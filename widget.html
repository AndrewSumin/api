<!DOCTYPE html>
<html lang="ru-RU">
    <head>
        <title>JS API</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="style.css"/>
        <script type="text/javascript" src="api.js"></script>
    </head>
    <body>
        <div style="float:left; width:500px;">
            <div id="search"></div>
            <div>
                <br/>
                <a id="next" href="javascript:void(0)">ะตัะต</a>
            </div>
        </div>
        <div style="float:left; width:500px; margin-left:50px;">
            <div id="employername"></div>
            <div id="employer"></div>
        </div>
        <script>
            (function(){
                function vacancy(vacancy){
                    return '<div class="vacancy"><a href="' + vacancy.links.alternate.href + '" class="vacancy">' + vacancy.name + '</a>';
                }
                function vacancies(vacancies){
                    document.getElementById('search').innerHTML = vacancies.join('');
                }
                function pages(pages){
                    document.getElementById('next').onclick = function(){
                        pages.next().done(result);
                    };
                }
                function result(response){
                    response.iterate(vacancy, vacancies)
                            .pages(pages);
                }
                hh.vacancies.search({text:'javascript'}).done(result);
            })();
        </script>
    </body>
</html>
